<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>社区信息发布</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i|Montserrat:300,400,500,700" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/animate.css/animate.min.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: BizPage - v5.8.0
  * Template URL: https://bootstrapmade.com/bizpage-bootstrap-business-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<!-- <style>
  body{
    height:10000px;
  }
</style> -->

<body>
<!-- ======= Header ======= -->
  <header id="header" class="fixed-top d-flex align-items-center header-transparent">
    <div class="container-fluid">

      <div class="row justify-content-center align-items-center">
        <div class="col-xl-11 d-flex align-items-center justify-content-between">
          <h1 class="logo"><a href="index.html">智慧社区管理信息处</a></h1>
          <!-- Uncomment below if you prefer to use an image logo -->
          <!-- <a href="index.html" class="logo"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->

          <nav id="navbar" class="navbar">
            <ul>
              <li><a class="nav-link scrollto active" href="#news">新闻发布</a></li>
              <li><a class="nav-link scrollto" href="#shishi">全国疫情实时消息发布</a></li>
			  <li><a class="nav-link scrollto" href="#shequnei">社区内疫情信息发布</a></li>
              <li><a class="nav-link scrollto" href="#zhishi">疫情知识发布</a></li>
            </ul>
            <i class="bi bi-list mobile-nav-toggle"></i>
          </nav><!-- .navbar -->
        </div>
      </div>

    </div>
  </header><!-- End Header -->


<img src="assets\img\hero\13.webp" width="100%">
<br><br><br><br><br>
<center>
  <div id="user">
    <h1>用户管理</h1>
    <h4>查询用户</h4><br>
    用户姓名:<input type="text" v-model="findContent"></input>
    <button @click="findClick">查询</button><br><br>
    <table border="2" width="1000">
      <tr><td>姓名</td><td>性别</td><td>密码</td><td>住处</td><td>联系电话</td><td>保存</td><td>删除</td></tr>
      <tr v-for="item in userArray" @click="userRowClick(item,$event)">
        <th>{{item.userName}}</th>
        <th>{{item.userGender}}</th>
        <th><input type="text" v-model="item.userPassword" @change="userPasswordChange(item.userPassword,$event)"></input></th>
        <th>{{item.tent+'-'+item.unit+'-'+item.room}}</th>
        <th>{{item.userTel}}</th>
        <th><button @click="userUpdateClick">修改</button></th>
        <th><button @click="userDeleteClick(item,$event)">删除</button></th>
      </tr>
    </table>
    </div>

    <script type="module">

      import global from './global.js';
      axios.defaults.baseURL = global.host+":1337";
  
      var rowUD,newUserPasswordChange;
      const user=Vue.createApp({
        data(){
          return{
            findContent:"",
            userArray:[],
            userName:"",
            userGender:"",
            userPassword:"",
            tent:"",
            unit:"",
            room:"",
            userTel:"",
            }
          },
          methods:{
            userRowClick:function(item,e){//获取行号
              axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/userItem",
                  params:{
                    userName:item.userName,
                    userGender:item.userGender,
                    userPassword:item.userPassword,
                    tent:item.tent,
                    unit:item.unit,
                    room:item.room,
                    userTel:item.userTel,
                  }
              }).then((response) => {
                rowUD=response.data;
                console.log(rowUD);
              })
              .catch((error)=> {
                console.log(error);
              });
            },
            findClick:function(){//查询
              console.log(this.findContent);
              axios({//得到这个行号原本的数据
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/userFindByName",
                  params:{
                    userName:this.findContent
                  }
              }).then((response) => {
                console.log(response.data);
                this.userArray=[];
                for(var i=0;i<response.data.length;i++){
                  this.userArray.push({userName:response.data[i].userName,userGender:response.data[i].userGender,
                    userPassword:response.data[i].userPassword,tent:response.data[i].tent,
                    unit:response.data[i].unit,room:response.data[i].room,userTel:response.data[i].userTel});
                }
              })
              .catch((error)=> {
                console.log(error);
              });
            },
            userPasswordChange(newsUserPasswordChanged,e){
              newUserPasswordChange=newsUserPasswordChanged;
            },
            userUpdateClick:function(){//更改
              axios({//得到这个行号原本的数据
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/userFindByRow",
                  params:{
                    row:rowUD
                  }
              }).then((response) => {
                if(response.data.userPassword!=newUserPasswordChange){//标题不同时数据库中改变
                  axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/userUpdate",
                  params:{
                    userName:response.data.userName,
                    userGender:response.data.userGender,
                    tent:response.data.tent,
                    unit:response.data.unit,
                    room:response.data.room,
                    userTel:response.data.userTel,
                    oldUserPassword:response.data.userPassword,//传回来的值
                    newUserPassword:newUserPasswordChange
                  }
                  }).then((response) => {
                    console.log(response);
                    location.reload();//网页刷新
                  }).catch((error)=> {
                    console.log(error);
                  });
                }
              })
            },
            userDeleteClick:function(item,e){
                axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/userDelete",
                  params:{
                    userName:item.userName,
                    userGender:item.userGender,
                    userPassword:item.userPassword,
                    tent:item.tent,
                    unit:item.unit,
                    room:item.room,
                    userTel:item.userTel,
                  }
              }).then((response) => {
                console.log(response);
                location.reload()//网页刷新
              })
              .catch((error)=> {
                console.log(error);
              });
            }
          },
          mounted(){//打开网页自动加载
              axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/userAuto",
              }).then((response) => {
                for(var i=0;i<response.data.length;i++){
                  this.userArray.push({userName:response.data[i].userName,userGender:response.data[i].userGender,
                    userPassword:response.data[i].userPassword,tent:response.data[i].tent,
                    unit:response.data[i].unit,room:response.data[i].room,userTel:response.data[i].userTel});
                }
              })
              .catch((error)=> {
                console.log(error);
              });
            }
        }).mount('#user');
  </script>
  


<br><br><br><br><br>

<div id="news">
<h1>新闻发布</h1>
	新闻标题:<input type="text" v-model="newsTitle"><br><br>
	新闻内容:<textarea cols="20" rows="5" v-model="newsContent"></textarea><br><br>
	新闻图片:<input type="file" @change="getNewsPicture"><br><br>
	<input type="submit" @click="newsReleaseClick">&nbsp;&nbsp;&nbsp;&nbsp;<input type="reset" @click="newsReleaseReset"><br><br>
<hr>
<h1>已有新闻</h1>
利用数据库将里面的信息调出来
<h4>查询新闻</h4><br>
新闻标题:<input type="text" v-model="findContent"></input>
<button @click="findClick">查询</button><br><br>
<table border="2" width="1000">
  <tr><td>新闻标题</td><td>新闻内容</td><td>新闻图片</td><td>修改</td><td>删除</td></tr>
  <tr v-for="item in newsArray" @click="newsRowClick(item,$event)">
    <th><input type="text" v-model="item.newsTitle" @change="newsTitleChange(item.newsTitle,$event)"></input></th>
    <th><input type="text" v-model="item.newsContent" @change="newsContentChange(item.newsContent,$event)"></input></th>
    <th><img :src="item.newsPicture" width="50" height="50"></img></th>
    <th><button @click="newsUpdateClick">修改</button></th>
    <th><button @click="newsDeleteClick(item,$event)">删除</button></th>
  </tr>
</table>
</div>

<script src="https://unpkg.com/vue@next"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script> 
<script type="module">

    import global from './global.js';
    axios.defaults.baseURL = global.host+":1337";

    var newsPicture="assets/img/";
    var rowUD,newNewsTitleChanged,newNewsContentChanged;
		const register=Vue.createApp({
			data(){
				return{
					newsTitle:"",
          newsContent:"",
          newsArray:[],
          findContent:"",
					}
				},
				methods:{
          getNewsPicture(e){//得到图片名称-地址
            newsPicture+=e.target.files[0].name;
          },
          newsReleaseClick:function(){//新闻发布-添加新闻-刷新
            // console.log(newsPicture);
            axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/newsCreate",
                params:{
                  newsTitle:this.newsTitle,
                  newsContent:this.newsContent,
                  newsPicture:newsPicture
                }
            }).then((response) => {
              location.reload();
            })
						.catch((error)=> {
							console.log(error);
						});
          },
          newsReleaseReset:function(){
              this.newsTitle="",
              this.newsContent=""
          },
          newsRowClick:function(item,e){//获取行号
            axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/newsItem",
                params:{
                  newsTitle:item.newsTitle,
                  newsContent:item.newsContent,
                  newsPicture:item.newsPicture
                }
            }).then((response) => {
              rowUD=response.data;
              console.log(rowUD);
            })
						.catch((error)=> {
							console.log(error);
						});
          },
          findClick:function(){//查询
            console.log(this.findContent);
            axios({//得到这个行号原本的数据
                method: 'get',
                url: global.host+":1337/api/v1/entrance/newsFindByTitle",
                params:{
                  newsTitle:this.findContent
                }
            }).then((response) => {
              console.log(response.data);
              this.newsArray=[];
              for(var i=0;i<response.data.length;i++){
                this.newsArray.push({newsTitle:response.data[i].newsTitle,newsContent:response.data[i].newsContent,newsPicture:response.data[i].newsPicture});
              }
            })
						.catch((error)=> {
							console.log(error);
						});
          },
          newsTitleChange(newsTitleChanged,e){
            newNewsTitleChanged=newsTitleChanged;
            // console.log(newsTitleChanged);//改变的值
          },
          newsContentChange(newsContentChanged,e){
            newNewsContentChanged=newsContentChanged;
            // console.log(newsContentChanged);//改变的值
          },
          newsUpdateClick:function(){//更改
            // console.log(rowUD);
            axios({//得到这个行号原本的数据
                method: 'get',
                url: global.host+":1337/api/v1/entrance/newsFindByRow",
                params:{
                  row:rowUD
                }
            }).then((response) => {
              console.log(response.data.newsTitle);//数据库中原来的newsTitle
              // console.log(newNewsTitleChanged);
              if(response.data.newsTitle!=newNewsTitleChanged){//标题不同时数据库中改变
                axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/newsUpdate",
                params:{
                  newsContent:response.data.newsContent,
                  newsPicture:response.data.newsPicture,
                  oldNewsTitle:response.data.newsTitle,//传回来的值
                  newNewsTitle:newNewsTitleChanged
                }
                }).then((response) => {
                  console.log(response);
                  location.reload();//网页刷新
                }).catch((error)=> {
							    console.log(error);
						    });
              }
              if(response.data.newsContent!=newNewsContentChanged){
                axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/newsUpdate",
                params:{
                  newsTitle:response.data.newsTitle,
                  newsPicture:response.data.newsPicture,
                  oldNewsContent:response.data.newsContent,//传回来的值
                  newNewsContent:newNewsContentChanged
                }
                }).then((response) => {
                  console.log(response);
                  // location.reload();//网页刷新
                }).catch((error)=> {
							    console.log(error);
						    });
              }
              
            })
						.catch((error)=> {
							console.log(error);
						});
          },
          newsDeleteClick:function(item,e){
              axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/newsDelete",
                params:{
                  newsTitle:item.newsTitle,
                  newsContent:item.newsContent,
                  newsPicture:item.newsPicture,
                }
            }).then((response) => {
              console.log(response);
              location.reload()//网页刷新
            })
						.catch((error)=> {
							console.log(error);
						});
          }
        },
        mounted(){//打开网页自动加载
            axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/newsAuto",
            }).then((response) => {
              for(var i=0;i<response.data.length;i++){
                this.newsArray.push({newsTitle:response.data[i].newsTitle,newsContent:response.data[i].newsContent,newsPicture:response.data[i].newsPicture});
              }
            })
						.catch((error)=> {
							console.log(error);
						});
          }
      }).mount('#news');
</script>

<hr><hr>

<div id="realTime">
<h1>全国疫情实时消息</h1>
	现有确诊:<input type="text" v-model="diagnose"><br><br>
	较上日新增:<input type="text" v-model="increase"><br><br>
	累计确诊:<input type="text" v-model="summary"><br><br>
	无症状感染者:<input type="text" v-model="asymptomatic"><br><br>
	<input type="submit" @click="realTimeClick">&nbsp;&nbsp;&nbsp;&nbsp;<input type="reset" @click="realTimeReset"><br><br>

  <br><br>
  <hr>
  <h3>数据</h3>
  <table border="2" width="1200">
    <tr><th>日期</th><th>现有确诊</th><th>较上日新增</th><th>累计确诊</th><th>无症状感染者</th><th>修改</th><th>删除</th></tr>
    <tr v-for="item in realTimeArray" @click="dataRowClick(item,$event)">
      <th>{{item.date}}</th>
      <th><input type="text" v-model="item.diagnose" @change="diagnoseChange(item.diagnose,$event)"></input></th>
      <th><input type="text" v-model="item.increase" @change="increaseChange(item.increase,$event)"></input></th>
      <th><input type="text" v-model="item.summary" @change="summaryChange(item.summary,$event)"></input></th>
      <th><input type="text" v-model="item.asymptomatic" @change="asymptomaticChange(item.asymptomatic,$event)"></input></th>
      <th><button @click="dataUpdateClick(item,$event)">修改</button></th>
      <th><button @click="dataDeleteClick(item,$event)">删除</button></th>
    </tr>
  </table>
</div>

  <script type="module">

    import global from './global.js';
    axios.defaults.baseURL = global.host+":1337";

    var rowUD;
    var newDiagnoseChanged,newIncreaseChanged,newSummaryChanged,newAsymptomaticChanged;
		const realTime=Vue.createApp({
			data(){
				return{
          date:"",
          diagnose:"",
          increase:"",
          summary:"",
          asymptomatic:"",
          realTimeArray:[]
					}
				},
				methods:{
          getDateTime() {
				    let date = new Date();
            let year = date.getFullYear(); // 年
            let month = date.getMonth() + 1; // 月
            let day = date.getDate(); // 日
            return `${year}-${month}-${day}`;
          },
          diagnoseChange(diagnoseChanged,e){
            newDiagnoseChanged=diagnoseChanged;
            // console.log(newDiagnoseChanged);
          },
          increaseChange(increaseChanged,e){
            newIncreaseChanged=increaseChanged;
          },
          summaryChange(summaryChanged,e){
            newSummaryChanged=summaryChanged;
          },
          asymptomaticChange(asymptomaticChanged,e){
            newAsymptomaticChanged=asymptomaticChanged;
          },
					realTimeClick:function(){
              var currentTime=this.getDateTime();
              axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/realTimeCreate",
                params:{
                  date:currentTime,
                  diagnose:this.diagnose,
                  increase:this.increase,
                  summary:this.summary,
                  asymptomatic:this.asymptomatic
                }
            }).then((response) => {
              console.log(response);
              location.reload();
            })
						.catch((error)=> {
							console.log(error);
						});
					},
					realTimeReset:function(){
            this.diagnose="",
            this.increase="",
            this.summary="",
            this.asymptomatic=""
					},
          dataRowClick:function(item,$event){
            axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/realTimeItem",
                params:{
                  diagnose:item.diagnose,
                  increase:item.increase,
                  summary:item.summary,
                  asymptomatic:item.asymptomatic,
                }
            }).then((response) => {
              rowUD=response.data;
              console.log(rowUD);
            })
						.catch((error)=> {
							console.log(error);
						});
          },
          dataUpdateClick:function(item,e){
            axios({//得到这个行号原本的数据
                method: 'get',
                url: global.host+":1337/api/v1/entrance/realTimeFindByRow",
                params:{
                  row:rowUD
                }
            }).then((response) => {
              console.log(response);
            if(response.data.diagnose!=newDiagnoseChanged){//标题不同时数据库中改变
                axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/realTimeUpdate",
                params:{
                  increase:response.data.increase,
                  summary:response.data.summary,
                  asymptomatic:response.data.asymptomatic,
                  oldDiagnose:response.data.diagnose,
                  newDiagnose:newDiagnoseChanged
                }
                }).then((response) => {
                  console.log(response);
                  location.reload();//网页刷新
                }).catch((error)=> {
							    console.log(error);
						    });
              }
              if(response.data.increase!=newIncreaseChanged){//标题不同时数据库中改变
                axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/realTimeUpdate",
                params:{
                  diagnose:response.data.diagnose,
                  summary:response.data.summary,
                  asymptomatic:response.data.asymptomatic,
                  oldIncrease:response.data.increase,//传回来的值
                  newIncrease:newIncreaseChanged
                }
                }).then((response) => {
                  console.log(response);
                  location.reload();//网页刷新
                }).catch((error)=> {
							    console.log(error);
						    });
              }
              if(response.data.summary!=newSummaryChanged){//标题不同时数据库中改变
                axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/realTimeUpdate",
                params:{
                  diagnose:response.data.diagnose,
                  increase:response.data.increase,
                  asymptomatic:response.data.asymptomatic,
                  oldSummary:response.data.summary,//传回来的值
                  newSummary:newSummaryChanged
                }
                }).then((response) => {
                  console.log(response);
                  location.reload();//网页刷新
                }).catch((error)=> {
							    console.log(error);
						    });
              }
              if(response.data.asymptomatic!=newAsymptomaticChanged){//标题不同时数据库中改变
                axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/realTimeUpdate",
                params:{
                  diagnose:response.data.diagnose,
                  increase:response.data.increase,
                  summary:response.data.summary,
                  oldAsymptomatic:response.data.asymptomatic,//传回来的值
                  newAsymptomatic:newAsymptomaticChanged
                }
                }).then((response) => {
                  console.log(response);
                  location.reload();//网页刷新
                }).catch((error)=> {
							    console.log(error);
						    });
              }
            })
          },
          dataDeleteClick:function(item,e){//先得到是第几行 再根据行数删除  不然没办法单击即删除
              axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/realTimeDelete",
                params:{
                  diagnose:item.diagnose,
                  increase:item.increase,
                  summary:item.summary,
                  asymptomatic:item.asymptomatic
                }
            }).then((response) => {
              console.log(response);
              location.reload()//网页刷新
            })
						.catch((error)=> {
							console.log(error);
						});
          },
				},
        mounted(){//打开网页自动加载
            // var currentTime=this.getDate();
            axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/realTimeAuto",
            }).then((response) => {
              // console.log(response);
              for(var i=0;i<response.data.length;i++){
                this.realTimeArray.push({date:response.data[i].date,diagnose:response.data[i].diagnose,increase:response.data[i].increase,summary:response.data[i].summary,asymptomatic:response.data[i].asymptomatic});
              }
            })
						.catch((error)=> {
							console.log(error);
						});
          }
			}).mount('#realTime');
	</script>

<hr><hr>


<div id="communityRealTime">
  <h1>社区内疫情实时消息</h1>
    现有确诊:<input type="text" v-model="diagnose"><br><br>
    较上日新增:<input type="text" v-model="increase"><br><br>
    累计确诊:<input type="text" v-model="summary"><br><br>
    无症状感染者:<input type="text" v-model="asymptomatic"><br><br>
    <input type="submit" @click="realTimeClick">&nbsp;&nbsp;&nbsp;&nbsp;<input type="reset" @click="realTimeReset"><br><br>
  
    <br><br>
    <hr>
    <h3>数据</h3>
    <table border="2" width="1200">
      <tr><th>日期</th><th>现有确诊</th><th>较上日新增</th><th>累计确诊</th><th>无症状感染者</th><th>修改</th><th>删除</th></tr>
      <tr v-for="item in realTimeArray" @click="dataRowClick(item,$event)">
        <th>{{item.date}}</th>
        <th><input type="text" v-model="item.diagnose" @change="diagnoseChange(item.diagnose,$event)"></input></th>
        <th><input type="text" v-model="item.increase" @change="increaseChange(item.increase,$event)"></input></th>
        <th><input type="text" v-model="item.summary" @change="summaryChange(item.summary,$event)"></input></th>
        <th><input type="text" v-model="item.asymptomatic" @change="asymptomaticChange(item.asymptomatic,$event)"></input></th>
        <th><button @click="dataUpdateClick(item,$event)">修改</button></th>
        <th><button @click="dataDeleteClick(item,$event)">删除</button></th>
      </tr>
    </table>
  </div>
  
    <script type="module">
  
      import global from './global.js';
      axios.defaults.baseURL = global.host+":1337";
  
      var rowUD;
      var newDiagnoseChanged,newIncreaseChanged,newSummaryChanged,newAsymptomaticChanged;
      const communityRealTime=Vue.createApp({
        data(){
          return{
            date:"",
            diagnose:"",
            increase:"",
            summary:"",
            asymptomatic:"",
            realTimeArray:[]
            }
          },
          methods:{
            getDateTime() {
              let date = new Date();
              let year = date.getFullYear(); // 年
              let month = date.getMonth() + 1; // 月
              let day = date.getDate(); // 日
              return `${year}-${month}-${day}`;
            },
            diagnoseChange(diagnoseChanged,e){
              newDiagnoseChanged=diagnoseChanged;
              // console.log(newDiagnoseChanged);
            },
            increaseChange(increaseChanged,e){
              newIncreaseChanged=increaseChanged;
            },
            summaryChange(summaryChanged,e){
              newSummaryChanged=summaryChanged;
            },
            asymptomaticChange(asymptomaticChanged,e){
              newAsymptomaticChanged=asymptomaticChanged;
            },
            realTimeClick:function(){
                var currentTime=this.getDateTime();
                axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/communityRealTimeCreate",
                  params:{
                    date:currentTime,
                    diagnose:this.diagnose,
                    increase:this.increase,
                    summary:this.summary,
                    asymptomatic:this.asymptomatic
                  }
              }).then((response) => {
                console.log(response);
                location.reload();
              })
              .catch((error)=> {
                console.log(error);
              });
            },
            realTimeReset:function(){
              this.diagnose="",
              this.increase="",
              this.summary="",
              this.asymptomatic=""
            },
            dataRowClick:function(item,$event){
              axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/communityRealTimeItem",
                  params:{
                    diagnose:item.diagnose,
                    increase:item.increase,
                    summary:item.summary,
                    asymptomatic:item.asymptomatic,
                  }
              }).then((response) => {
                rowUD=response.data;
                console.log(rowUD);
              })
              .catch((error)=> {
                console.log(error);
              });
            },
            dataUpdateClick:function(item,e){
              axios({//得到这个行号原本的数据
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/communityRealTimeFindByRow",
                  params:{
                    row:rowUD
                  }
              }).then((response) => {
                console.log(response);
              if(response.data.diagnose!=newDiagnoseChanged){//标题不同时数据库中改变
                  axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/communityRealTimeUpdate",
                  params:{
                    increase:response.data.increase,
                    summary:response.data.summary,
                    asymptomatic:response.data.asymptomatic,
                    oldDiagnose:response.data.diagnose,
                    newDiagnose:newDiagnoseChanged
                  }
                  }).then((response) => {
                    console.log(response);
                    location.reload();//网页刷新
                  }).catch((error)=> {
                    console.log(error);
                  });
                }
                if(response.data.increase!=newIncreaseChanged){//标题不同时数据库中改变
                  axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/communityRealTimeUpdate",
                  params:{
                    diagnose:response.data.diagnose,
                    summary:response.data.summary,
                    asymptomatic:response.data.asymptomatic,
                    oldIncrease:response.data.increase,//传回来的值
                    newIncrease:newIncreaseChanged
                  }
                  }).then((response) => {
                    console.log(response);
                    location.reload();//网页刷新
                  }).catch((error)=> {
                    console.log(error);
                  });
                }
                if(response.data.summary!=newSummaryChanged){//标题不同时数据库中改变
                  axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/communityRealTimeUpdate",
                  params:{
                    diagnose:response.data.diagnose,
                    increase:response.data.increase,
                    asymptomatic:response.data.asymptomatic,
                    oldSummary:response.data.summary,//传回来的值
                    newSummary:newSummaryChanged
                  }
                  }).then((response) => {
                    console.log(response);
                    location.reload();//网页刷新
                  }).catch((error)=> {
                    console.log(error);
                  });
                }
                if(response.data.asymptomatic!=newAsymptomaticChanged){//标题不同时数据库中改变
                  axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/communityRealTimeUpdate",
                  params:{
                    diagnose:response.data.diagnose,
                    increase:response.data.increase,
                    summary:response.data.summary,
                    oldAsymptomatic:response.data.asymptomatic,//传回来的值
                    newAsymptomatic:newAsymptomaticChanged
                  }
                  }).then((response) => {
                    console.log(response);
                    location.reload();//网页刷新
                  }).catch((error)=> {
                    console.log(error);
                  });
                }
              })
            },
            dataDeleteClick:function(item,e){//先得到是第几行 再根据行数删除  不然没办法单击即删除
                axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/communityRealTimeDelete",
                  params:{
                    diagnose:item.diagnose,
                    increase:item.increase,
                    summary:item.summary,
                    asymptomatic:item.asymptomatic
                  }
              }).then((response) => {
                console.log(response);
                location.reload()//网页刷新
              })
              .catch((error)=> {
                console.log(error);
              });
            },
          },
          mounted(){//打开网页自动加载
              // var currentTime=this.getDate();
              axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/communityRealTimeAuto",
              }).then((response) => {
                // console.log(response);
                for(var i=0;i<response.data.length;i++){
                  this.realTimeArray.push({date:response.data[i].date,diagnose:response.data[i].diagnose,increase:response.data[i].increase,summary:response.data[i].summary,asymptomatic:response.data[i].asymptomatic});
                }
              })
              .catch((error)=> {
                console.log(error);
              });
            }
        }).mount('#communityRealTime');
    </script>
  
  <hr><hr>


<div id="communityNews">
<h1>社区内疫情信息</h1>
	社区内新闻标题:<input type="text" v-model="communityNewsTitle"><br><br>
	社区内新闻:<textarea cols="20" rows="5" v-model="communityNewsContent"></textarea><br><br>
	<input type="submit" @click="communityNewsClick">&nbsp;&nbsp;&nbsp;&nbsp;<input type="reset" @click="communityNewsReset"><br><br>
<hr>
<h1>已有新闻</h1>
利用数据库将里面的信息调出来
<table border="2" width="800">
  <tr><td>社区新闻标题</td><td>社区新闻内容</td><td>修改</td><td>删除</td></tr>
  <tr v-for="item in communityNewsArray" @click="communityNewsRowClick(item,$event)">
    <th><input type="text" v-model="item.communityNewsTitle" @change="communityNewsTitleChange(item.communityNewsTitle,$event)"></input></th>
    <th><input type="text" v-model="item.communityNewsContent" @change="communityNewsContentChange(item.communityNewsContent,$event)"></input></th>
    <th><button @click="communityNewsUpdateClick(item,$event)">修改</button></th>
    <th><button @click="communityNewsDeleteClick(item,$event)">删除</button></th>
  </tr>
</table>
</div>

<script type="module">

    import global from './global.js';
    axios.defaults.baseURL = global.host+":1337";

    var rowUD;
    var newCommunityNewsTitleChanged,newCommunityNewsContentChanged;
  const communityNews=Vue.createApp({
    data(){
      return{
        communityNewsTitle:"",
        communityNewsContent:"",
        communityNewsArray:[]
        }
      },
      methods:{
        communityNewsClick:function(){
          console.log(this.communityNewsTitle);
          console.log(this.communityNewsContent);
            axios({
              method: 'get',
              url: global.host+":1337/api/v1/entrance/communityNewsCreate",
              params:{
                communityNewsTitle:this.communityNewsTitle,
                communityNewsContent:this.communityNewsContent
              }
          }).then((response) => {
            console.log(response);
            location.reload();
          })
          .catch((error)=> {
            console.log(error);
          });
        },
        communityNewsReset:function(){
          this.communityNewsTitle="",
          this.communityNewsContent=""
        },
        communityNewsTitleChange(communityNewsTitleChanged,e){
            newCommunityNewsTitleChanged=communityNewsTitleChanged;
            console.log(newCommunityNewsTitleChanged);
          },
          communityNewsContentChange(communityNewsContentChanged,e){
            newCommunityNewsContentChanged=communityNewsContentChanged;
          },
        communityNewsRowClick:function(item,$event){
            axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/communityNewsItem",
                params:{
                  communityNewsTitle:item.communityNewsTitle,
                  communityNewsContent:item.communityNewsContent,
                }
            }).then((response) => {
              rowUD=response.data;
              // console.log(rowUD);
            })
						.catch((error)=> {
							console.log(error);
						});
          },
          communityNewsUpdateClick:function(item,e){
            axios({//得到这个行号原本的数据
                method: 'get',
                url: global.host+":1337/api/v1/entrance/communityNewsFindByRow",
                params:{
                  row:rowUD
                }
            }).then((response) => {
              console.log(response);
            if(response.data.communityNewsTitle!=newCommunityNewsTitleChanged){//标题不同时数据库中改变
                axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/communityNewsUpdate",
                params:{
                  communityNewsContent:response.data.communityNewsContent,
                  oldCommunityNewsTitle:response.data.communityNewsTitle,
                  newCommunityNewsTitle:newCommunityNewsTitleChanged
                }
                }).then((response) => {
                  console.log(response);
                  location.reload();//网页刷新
                }).catch((error)=> {
							    console.log(error);
						    });
              }
              if(response.data.communityNewsContent!=newCommunityNewsContentChanged){//标题不同时数据库中改变
                axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/communityNewsUpdate",
                params:{
                  communityNewsTitle:response.data.communityNewsTitle,
                  oldCommunityNewsContent:response.data.communityNewsContent,//传回来的值
                  newCommunityNewsContent:newCommunityNewsContentChanged
                }
                }).then((response) => {
                  console.log(response);
                  location.reload();//网页刷新
                }).catch((error)=> {
							    console.log(error);
						    });
              }
            })
          },
          communityNewsDeleteClick:function(item,e){//先得到是第几行 再根据行数删除  不然没办法单击即删除
              axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/communityNewsDelete",
                params:{
                  communityNewsTitle:item.communityNewsTitle,
                  communityNewsContent:item.communityNewsContent,
                }
            }).then((response) => {
              console.log(response);
              location.reload()//网页刷新
            })
						.catch((error)=> {
							console.log(error);
						});
          },
      },
      mounted(){
        axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/communityNewsAuto",
            }).then((response) => {
              // console.log(response);
              for(var i=0;i<response.data.length;i++){
                this.communityNewsArray.push({communityNewsTitle:response.data[i].communityNewsTitle,communityNewsContent:response.data[i].communityNewsContent});
              }
            })
						.catch((error)=> {
							console.log(error);
						});
      }
    }).mount('#communityNews');
</script>

<hr><hr>

<div id="knowledge">
  <h1>疫情知识</h1>
  <!-- <form action="#" method="post"> -->
    标题:<input type="text" v-model="knowledgeTitle"><br><br>
    内容:<textarea cols="20" rows="5" v-model="knowledgeContent"></textarea><br><br>
    图片:<input type="file" @change="knowledgePicture" multiple="multiple"><br><br>
    <input type="submit" @click="knowledgeClick">&nbsp;&nbsp;&nbsp;&nbsp;<input type="reset" @click="knowledgeReset"><br><br>
  <!-- </form> -->
  <hr>
  <h1>已有数据</h1>
  利用数据库将里面的信息调出来
  <table border="2" width="1000">
    <tr><td>标题</td><td>内容</td><td>图片</td><td>修改</td><td>删除</td></tr>
    <tr v-for="item in knowledgeArray" @click="knowledgeRowClick(item,$event)">
      <th><input type="text" v-model="item.knowledgeTitle" @change="knowledgeTitleChange(item.knowledgeTitle,$event)"></input></th>
      <th><input type="text" v-model="item.knowledgeContent" @change="knowledgeContentChange(item.knowledgeContent,$event)"></input></th>
      <th><img :src="item.knowledgePicture" width="50" height="50"></img></th>
      <th><button @click="knowledgeUpdateClick">修改</button></th>
      <th><button @click="knowledgeDeleteClick(item,$event)">删除</button></th>
    </tr>
  </table>
  </div>
  
  <script src="https://unpkg.com/vue@next"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script> 
  <script type="module">
  
      import global from './global.js';
      axios.defaults.baseURL = global.host+":1337";
  
      var knowledgePicture="assets/img/";
      var rowUD,newKnowledgeTitleChanged,newKnowledgeContentChanged;
      const knowledge=Vue.createApp({
        data(){
          return{
            knowledgeTitle:"",
            knowledgeContent:"",
            knowledgeArray:[],
            knowledgeContent:"",
            }
          },
          methods:{
            knowledgePicture(e){//得到图片名称-地址
              knowledgePicture+=e.target.files[0].name;
            },
            knowledgeClick:function(){//新闻发布-添加新闻-刷新
              axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/knowledgeCreate",
                  params:{
                    knowledgeTitle:this.knowledgeTitle,
                    knowledgeContent:this.knowledgeContent,
                    knowledgePicture:knowledgePicture
                  }
              }).then((response) => {
                // console.log(response);
                location.reload()//网页刷新
              })
              .catch((error)=> {
                console.log(error);
              });
            },
            knowledgeReset:function(){
                this.knowledgeTitle="",
                this.knowledgeContent=""
            },
            knowledgeRowClick:function(item,e){//获取行号
              axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/knowledgeItem",
                  params:{
                    knowledgeTitle:item.knowledgeTitle,
                    knowledgeContent:item.knowledgeContent,
                    knowledgePicture:item.knowledgePicture
                  }
              }).then((response) => {
                rowUD=response.data;
                // console.log(rowUD);
              })
              .catch((error)=> {
                console.log(error);
              });
            },
            knowledgeTitleChange(knowledgeTitleChanged,e){
              newKnowledgeTitleChanged=newsKnowledgeChanged;
              // console.log(newsTitleChanged);//改变的值
            },
            knowledgeContentChange(knowledgeContentChanged,e){
              newKnowledgeContentChanged=knowledgeContentChanged;
              // console.log(newsContentChanged);//改变的值
            },
            knowledgeUpdateClick:function(){//更改
              // console.log(rowUD);
              axios({//得到这个行号原本的数据
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/knowledgeFindByRow",
                  params:{
                    row:rowUD
                  }
              }).then((response) => {
                console.log(response.data.knowledgeTitle);//数据库中原来的newsTitle
                if(response.data.knowledgeTitle!=newKnowledgeTitleChanged){//标题不同时数据库中改变
                  axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/knowledgeUpdate",
                  params:{
                    knowledgeContent:response.data.knowledgeContent,
                    knowledgePicture:response.data.knowledgePicture,
                    oldKnowledgeTitle:response.data.knowledgeTitle,//传回来的值
                    newKnowledgeTitle:newKnowledgeTitleChanged
                  }
                  }).then((response) => {
                    console.log(response);
                    location.reload();//网页刷新
                  }).catch((error)=> {
                    console.log(error);
                  });
                }
                if(response.data.knowledgeContent!=newKnowledgeContentChanged){
                  axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/knowledgeUpdate",
                  params:{
                    knowledgeTitle:response.data.knowledgeTitle,
                    knowledgePicture:response.data.knowledgePicture,
                    oldKnowledgeContent:response.data.knowledgeContent,//传回来的值
                    newKnowledgeContent:newKnowledgeContentChanged
                  }
                  }).then((response) => {
                    console.log(response);
                    location.reload();//网页刷新
                  }).catch((error)=> {
                    console.log(error);
                  });
                }
                
              })
              .catch((error)=> {
                console.log(error);
              });
            },
            knowledgeDeleteClick:function(item,e){
                axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/knowledgeDelete",
                  params:{
                    knowledgeTitle:item.knowledgeTitle,
                    knowledgeContent:item.knowledgeContent,
                    knowledgePicture:item.knowledgePicture,
                  }
              }).then((response) => {
                console.log(response);
                location.reload()//网页刷新
              })
              .catch((error)=> {
                console.log(error);
              });
            }
          },
          mounted(){//打开网页自动加载
              axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/knowledgeAuto",
              }).then((response) => {
                for(var i=0;i<response.data.length;i++){
                  this.knowledgeArray.push({knowledgeTitle:response.data[i].knowledgeTitle,
                    knowledgeContent:response.data[i].knowledgeContent,
                    knowledgePicture:response.data[i].knowledgePicture});
                }
              })
              .catch((error)=> {
                console.log(error);
              });
            }
        }).mount('#knowledge');
  </script>

<hr><hr>
<br><br><br><br>
<div id="needs">
  <h1>居民需求</h1>
  <table border="2" width="800">
    <tr><td>居民</td><td>住所</td><td>需求</td><td>是否处理</td><td>修改</td><td>删除</td></tr>
    <tr v-for="item in needsArray" @click="needRowClick(item,$event)">
      <th>{{item.needName}}</th>
      <th>{{item.tent+'-'+item.unit+'-'+item.room}}</th>
      <th>{{item.needs}}</th>
      <th><input type="text" v-model="item.needCheck" @change="needCheckChange(item.needCheck,$evemt)"></th>
      <th><button @click="needsUpdateClick(item,$event)">修改</button></th>
      <th><button @click="needsDeleteClick(item,$event)">删除</button></th>
    </tr>
  </table>
</div>
<br><br><br><br>
<script type="module">

  import global from './global.js';
  axios.defaults.baseURL = global.host+":1337";

  var rowUD,newNeedCheckChanged;
const needs=Vue.createApp({
  data(){
    return{
      needsArray:[],
      needName:"",
      tent:"",
      unit:"",
      room:"",
      needs:"",
      needCheck:"",
      }
    },
    methods:{
      needCheckChange(needCheckChanged,e){
            newNeedCheckChanged=needCheckChanged;
            // console.log(newNeedCheckChanged);
          },
      needRowClick:function(item,$event){
            axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/needsItem",
                params:{
                  needName:item.needName,
                  tent:item.tent,
                  unit:item.unit,
                  room:item.room,
                  needs:item.needs,
                }
            }).then((response) => {
              rowUD=response.data;
              console.log(rowUD);
            })
						.catch((error)=> {
							console.log(error);
						});
          },
      needsUpdateClick:function(item,e){
        axios({//得到这个行号原本的数据
                method: 'get',
                url: global.host+":1337/api/v1/entrance/needsFindByRow",
                params:{
                  row:rowUD
                }
            }).then((response) => {
              console.log("1 ",response);
            if(response.data.needCheck!=newNeedCheckChanged){//不同时数据库中改变
              console.log("response ",response.data.needCheck);
              console.log("new ",newNeedCheckChanged);
                axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/needsUpdate",
                params:{
                  needName:response.data.needName,
                  tent:response.data.tent,
                  unit:response.data.unit,
                  room:response.data.room,
                  needs:response.data.needs,
                  oldNeedCheck:response.data.needCheck,
                  newNeedCheck:newNeedCheckChanged
                }
                }).then((response) => {
                  console.log(response);
                  location.reload();//网页刷新
                }).catch((error)=> {
							    console.log(error);
						    });
              }
            }).catch((error)=> {
							    console.log(error);
						});
        },
        needsDeleteClick:function(item,e){//先得到是第几行 再根据行数删除  不然没办法单击即删除
              axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/needsDelete",
                params:{
                  needName:item.needName,
                  tent:item.tent,
                  unit:item.unit,
                  room:item.room,
                  needs:item.needs,
                }
            }).then((response) => {
              console.log(response);
              location.reload()//网页刷新
            })
						.catch((error)=> {
							console.log(error);
						});
          },
      },
        mounted(){
          axios({
              method: 'get',
              url: global.host+":1337/api/v1/entrance/needsAuto",
            }).then((response) => {
              // console.log(response);
              for(var i=0;i<response.data.length;i++){
               this.needsArray.push({needName:response.data[i].needName,tent:response.data[i].tent,
                  unit:response.data[i].unit,room:response.data[i].room,needs:response.data[i].needs,
                   needCheck:response.data[i].needCheck});
              }
            })
				    .catch((error)=> {
					    console.log(error);
		      	});
        }
    }).mount('#needs');
</script>
<hr><hr>

<br><br><br><br>
<div id="suggestion">
  <h1>意见</h1>
  <table border="2" width="800">
    <tr><td>姓名</td><td>邮箱</td><td>意见</td></tr>
    <tr v-for="item in suggestArray">
      <td>{{item.suggestName}}</th>
      <td>{{item.suggestEmail}}</td>
      <td>{{item.suggestMessage}}</td>
    </tr>
  </table>
  </div>

  <script type="module">

    import global from './global.js';
    axios.defaults.baseURL = global.host+":1337";
  
    var rowUD,newNeedCheckChanged;
  const suggestipn=Vue.createApp({
    data(){
      return{
        suggestArray:[],
        suggestName:"",
        suggestEmail:"",
        suggestMessage:"",
        }
      },
      mounted(){
        axios({
              method: 'get',
              url: global.host+":1337/api/v1/entrance/suggestAuto",
            }).then((response) => {
              // console.log(response);
              for(var i=0;i<response.data.length;i++){
               this.suggestArray.push({suggestName:response.data[i].suggestName,
                suggestEmail:response.data[i].suggestEmail,
                suggestMessage:response.data[i].suggestMessage,
                });
              }
            })
				    .catch((error)=> {
					    console.log(error);
		      	});
      }
    }).mount('#suggestion')
    </script>
<br><br><br><br>



<div id="chief">
  <h1>社区负责人</h1>
  <!-- <form action="#" method="post"> -->
    姓名:<input type="text" v-model="chiefName"><br><br>
    职位:<input type="text" v-model="chiefPosts"><br><br>
    电话:<input type="text" v-model="chiefTel"><br><br>
    照片:<input type="file" @change="getChiefPicture" multiple="multiple"><br><br>
    <input type="submit" @click="chiefClick">&nbsp;&nbsp;&nbsp;&nbsp;<input type="reset" @click="chiefReset"><br><br>
  <!-- </form> -->
  <hr>
  <h1>负责人</h1>
  <table border="2" width="1000">
    <tr><td>姓名</td><td>职位</td><td>电话</td><td>照片</td><td>修改</td><td>删除</td></tr>
    <tr v-for="item in chiefArray" @click="chiefRowClick(item,$event)">
      <th><input type="text" v-model="item.chiefName" @change="chiefNameChange(item.chiefName,$event)"></input></th>
      <th><input type="text" v-model="item.chiefPosts" @change="chiefPostsChange(item.chiefPosts,$event)"></input></th>
      <th><input type="text" v-model="item.chiefTel" @change="chiefTelChange(item.chiefTel,$event)"></input></th>
      <th><img :src="item.chiefPicture" width="50" height="50"></img></th>
      <th><button @click="chiefUpdateClick(item,$event)">修改</button></th>
      <th><button @click="chiefDeleteClick(item,$event)">删除</button></th>
    </tr>
  </table>
  </div>
  
  <script src="https://unpkg.com/vue@next"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script> 
  <script type="module">
  
      import global from './global.js';
      axios.defaults.baseURL = global.host+":1337";
  
      var chiefPicture="assets/img/";
      var rowUD,newChiefNameChanged,newChiefPostsChanged,newChiefTelChanged;
      const chief=Vue.createApp({
        data(){
          return{
            chiefName:"",
            chiefPosts:"",
            chiefTel:"",
            chiefPicture:"",
            chiefArray:[]
            }
          },
          methods:{
            getChiefPicture(e){//得到图片名称-地址
              chiefPicture+=e.target.files[0].name;
            },
            chiefClick:function(){//新闻发布-添加新闻-刷新
              // console.log(newsPicture);
              axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/chiefCreate",
                  params:{
                    chiefName:this.chiefName,
                    chiefPosts:this.chiefPosts,
                    chiefTel:this.chiefTel,
                    chiefPicture:chiefPicture
                  }
              }).then((response) => {
                location.reload();
              })
              .catch((error)=> {
                console.log(error);
              });
            },
            chiefReset:function(){
                this.chiefName="",
                this.chiefPosts="",
                this.chiefTel="",
                this.chiefPicture=""
            },
            chiefRowClick:function(item,e){//获取行号
              axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/chiefItem",
                  params:{
                    chiefName:item.chiefName,
                    chiefPosts:item.chiefPosts,
                    chiefTel:item.chiefTel,
                    chiefPicture:item.chiefPicture
                  }
              }).then((response) => {
                rowUD=response.data;
                console.log(rowUD);
              })
              .catch((error)=> {
                console.log(error);
              });
            },
            chiefNameChange(chiefNameChanged,e){
              newChiefNameChanged=chiefNameChanged;
            },
            chiefPostsChange(chiefPostsChanged,e){
              newChiefPostsChanged=chiefPostsChanged;
            },
            chiefTelChange(chiefTelChanged,e){
              newChiefTelChanged=chiefTelChanged;
            },
            chiefUpdateClick:function(){//更改
              console.log(rowUD);
              axios({//得到这个行号原本的数据
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/chiefFindByRow",
                  params:{
                    row:rowUD
                  }
              }).then((response) => {
                console.log(rowUD);
                if(response.data.chiefName!=newChiefNameChanged){//标题不同时数据库中改变
                  axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/chiefUpdate",
                  params:{
                    chiefPosts:response.data.chiefPosts,
                    chiefTel:response.data.chiefTel,
                    chiefPicture:response.data.chiefPicture,
                    oldChiefName:response.data.chiefName,//传回来的值
                    newChiefName:newChiefNameChanged
                  }
                  }).then((response) => {
                    console.log(response);
                    location.reload();//网页刷新
                  }).catch((error)=> {
                    console.log(error);
                  });
                }
                if(response.data.chiefPosts!=newChiefPostsChanged){
                  axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/chiefUpdate",
                  params:{
                    chiefName:response.data.chiefName,
                    chiefTel:response.data.chiefTel,
                    chiefPicture:response.data.chiefPicture,
                    oldChiefPosts:response.data.chiefPosts,//传回来的值
                    newChiefPosts:newChiefPostsChanged
                  }
                  }).then((response) => {
                    console.log(response);
                    // location.reload();//网页刷新
                  }).catch((error)=> {
                    console.log(error);
                  });
                }
                if(response.data.chiefTel!=newChiefTelChanged){
                  axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/chiefUpdate",
                  params:{
                    chiefName:response.data.chiefName,
                    chiefPosts:response.data.chiefPosts,
                    chiefPicture:response.data.chiefPicture,
                    oldChiefTel:response.data.chiefTel,//传回来的值
                    newChiefTel:newChiefTelChanged
                  }
                  }).then((response) => {
                    console.log(response);
                    // location.reload();//网页刷新
                  }).catch((error)=> {
                    console.log(error);
                  });
                }
              })
              .catch((error)=> {
                console.log(error);
              });
            },
            chiefDeleteClick:function(item,e){
                axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/chiefDelete",
                  params:{
                    chiefName:item.chiefName,
                    chiefPosts:item.chiefPosts,
                    chiefTel:item.chiefTel,
                    chiefPicture:item.chiefPicture,
                  }
              }).then((response) => {
                console.log(response);
                location.reload()//网页刷新
              })
              .catch((error)=> {
                console.log(error);
              });
            }
          },
          mounted(){//打开网页自动加载
              axios({
                  method: 'get',
                  url: global.host+":1337/api/v1/entrance/chiefAuto",
              }).then((response) => {
                for(var i=0;i<response.data.length;i++){
                  this.chiefArray.push({chiefName:response.data[i].chiefName,chiefPosts:response.data[i].chiefPosts,
                    chiefTel:response.data[i].chiefTel,chiefPicture:response.data[i].chiefPicture});
                }
              })
              .catch((error)=> {
                console.log(error);
              });
            }
        }).mount('#chief');
  </script>
  <br><br><br><br>
</center>


 <!-- ======= Footer ======= -->
 <footer id="footer">
  <div class="footer-top">
    <div class="container">
      <div class="row">

        <div class="col-lg-3 col-md-6 footer-info">
          <h3>智慧社区系统</h3>
          <p>A smart community system.</p>
        </div>

        <div class="col-lg-3 col-md-6 footer-links">
          <h4>链接</h4>
          <ul>
            <li><i class="bi bi-chevron-right"></i> <a href="#hero">主页</a></li>
            <li><i class="bi bi-chevron-right"></i> <a href="#health">健康打卡</a></li>
            <li><i class="bi bi-chevron-right"></i> <a href="#services">社区新闻</a></li>
            <li><i class="bi bi-chevron-right"></i> <a href="#skills">疫情信息</a></li>
            <li><i class="bi bi-chevron-right"></i> <a href="#demand">需求上报</a></li>
      <li><i class="bi bi-chevron-right"></i> <a href="#contact">意见栏</a></li>
          </ul>
        </div>

        <div class="col-lg-3 col-md-6 footer-links" id="chief1">
          <h4>社区联系人</h4>
          <ul v-for="item in chiefArray">
            <li><i class="bi bi-chevron-right"></i> <a href="#team">{{item.chiefPosts}}-{{item.chiefName}}</a></li>
          </ul>
        </div>


        <script type="module">

          import global from './global.js';
          axios.defaults.baseURL = global.host+":1337";
      
          const chief1=Vue.createApp({
            data(){
              return{
                chiefName:"",
                chiefPosts:"",
                chiefArray:[]
                }
              },
              mounted(){
                axios({
                    method: 'get',
                    url: global.host+":1337/api/v1/entrance/chiefShow",
                }).then((response) => {
                  // console.log(response);
                  for(var i=0;i<response.data.length;i++){
                    this.chiefArray.push({chiefName:response.data[i].chiefName,
                      chiefPosts:response.data[i].chiefPosts,
                      });
                  }
                })
                .catch((error)=> {
                  console.log(error);
                });
              }
            }).mount('#chief1');
            </script>


        <div class="col-lg-3 col-md-6 footer-contact">
          <h4>和我们联系</h4>
          <p>
            浙江工业大学 <br>
            之江学院<br>
             浙江绍兴 <br>
            <strong>电话:</strong> +1 98 5859 0261<br>
            <strong>邮箱:</strong> 863483292@qq.com<br>
          </p>

        </div>

        
      </div>
    </div>
  </div>

  <div class="container">
    <div class="copyright">
      &copy; Copyright
    </div>
    <div class="credits">
      <!--
      All the links in the footer should remain intact.
      You can delete the links only if you purchased the pro version.
      Licensing information: https://bootstrapmade.com/license/
      Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/buy/?theme=BizPage
    -->
      Designed by <a href="#">Yilia</a>
    </div>
  </div>
</footer><!-- End Footer -->

<a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>
<!-- Uncomment below i you want to use a preloader -->
<!-- <div id="preloader"></div> -->

<!-- Vendor JS Files -->
<script src="assets/vendor/purecounter/purecounter.js"></script>
<script src="assets/vendor/aos/aos.js"></script>
<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
<script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
<script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
<script src="assets/vendor/waypoints/noframework.waypoints.js"></script>
<script src="assets/vendor/php-email-form/validate.js"></script>

<!-- Template Main JS File -->
<script src="assets/js/main.js"></script>

</body>

</html>