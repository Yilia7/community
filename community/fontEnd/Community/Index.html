<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>智慧社区</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i|Montserrat:300,400,500,700" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/animate.css/animate.min.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">
</head>
<style>
  [v-cloak]{
    display: none;
  }
</style>
<body>

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top d-flex align-items-center header-transparent">
    <div class="container-fluid">

      <div class="row justify-content-center align-items-center">
        <div class="col-xl-11 d-flex align-items-center justify-content-between">
          <h1 class="logo"><a href="index.html">智慧社区</a></h1>
          <!-- Uncomment below if you prefer to use an image logo -->
          <!-- <a href="index.html" class="logo"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->

          <nav id="navbar" class="navbar">
            <ul>
             
              <li><a class="nav-link scrollto active" href="#hero">首页</a></li>
			        <li><a class="nav-link scrollto" href="#health">健康打卡</a></li>
			        <li><a class="nav-link scrollto" href="#services">社区新闻</a></li>
			        <li class="dropdown"><a href="#skills"><span>疫情信息</span> <i class="bi bi-chevron-down"></i></a>
                <ul>
                  <li><a href="#skills">全国疫情实时消息</a></li>
                  <li class="dropdown"><a href="#facts"><span>社区疫情情况</span></a>
			  	        <ul>
                    <li><a href="#yq">核酸检测点</a></li>
	    			  	    <li><a href="#yq">物资领取处</a></li>
		    			      <li><a href="#yq">隔离点</a></li>
			    		    </ul>
                  </li>
				         <li><a class="nav-link scrollto" href="#konwledge">疫情知识</a></li> 
                </ul>
              </li>
              <li><a class="nav-link scrollto" href="#demand">需求上报</a></li>
              <li><a class="nav-link scrollto" href="#contact">意见栏</a></li>
			        <li><a class="nav-link scrollto" href="login.html">登录</a></li>
            </ul>
            <i class="bi bi-list mobile-nav-toggle"></i>
          </nav><!-- .navbar -->
        </div>
      </div>

    </div>
  </header><!-- End Header -->

  <!-- ======= 主页 Section ======= -->
  <section id="hero">
    <div class="hero-container">
      <div id="heroCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="5000">

        <ol id="hero-carousel-indicators" class="carousel-indicators"></ol>

        <div class="carousel-inner" role="listbox">

          <div class="carousel-item active" style="background-image: url(assets/img/hero/1.webp)">
            <div class="carousel-container">
              <div class="container">
                <h2 class="animate__animated animate__fadeInDown">智慧社区</h2>
                <p class="animate__animated animate__fadeInUp"> A Smart Community Management System.</p>
                <a href="#health" class="btn-get-started scrollto animate__animated animate__fadeInUp">进入</a>
              </div>
            </div>
          </div>

          <div class="carousel-item" style="background-image: url(assets/img/hero/2.webp)">
            <div class="carousel-container">
              <div class="container">
                <h2 class="animate__animated animate__fadeInDown">官河景庭</h2>
                <p class="animate__animated animate__fadeInUp">杭州市滨江区西兴街道官河景庭小区</p>
                <a href="#health" class="btn-get-started scrollto animate__animated animate__fadeInUp">进入</a>
              </div>
            </div>
          </div>

          <div class="carousel-item" style="background-image: url(assets/img/hero/3.webp)">
            <div class="carousel-container">
              <div class="container">
                <h2 class="animate__animated animate__fadeInDown">建设美好社区</h2>
                <p class="animate__animated animate__fadeInUp">能够智慧管理社区的系统</p>
                <a href="#health" class="btn-get-started scrollto animate__animated animate__fadeInUp">进入</a>
              </div>
            </div>
          </div>

          <div class="carousel-item" style="background-image: url(assets/img/hero/4.webp)">
            <div class="carousel-container">
              <div class="container">
                <h2 class="animate__animated animate__fadeInDown">智慧社区管理系统</h2>
                <p class="animate__animated animate__fadeInUp">集管理、疫情信息发布、需求上报、意见栏一体的管理系统</p>
                <a href="#health" class="btn-get-started scrollto animate__animated animate__fadeInUp">进入</a>
              </div>
            </div>
          </div>

          <div class="carousel-item" style="background-image: url(assets/img/hero/5.webp)">
            <div class="carousel-container">
              <div class="container">
                <h2 class="animate__animated animate__fadeInDown">线上云社区</h2>
                <p class="animate__animated animate__fadeInUp">集中官河景庭业主为一体的云社区</p>
                <a href="#health" class="btn-get-started scrollto animate__animated animate__fadeInUp">进入</a>
              </div>
            </div>
          </div>

        </div>

        <a class="carousel-control-prev" href="#heroCarousel" role="button" data-bs-slide="prev">
          <span class="carousel-control-prev-icon bi bi-chevron-left" aria-hidden="true"></span>
        </a>

        <a class="carousel-control-next" href="#heroCarousel" role="button" data-bs-slide="next">
          <span class="carousel-control-next-icon bi bi-chevron-right" aria-hidden="true"></span>
        </a>

      </div>
    </div>
  </section><!-- End Hero Section -->

  <main id="main">

    <!-- ======= 主页信息 Section ======= -->
    <section id="featured-services">
      <div class="container">
        <div class="row">

          <div class="col-lg-4 box">
            <i class="bi bi-briefcase"></i>
            <h4 class="title">智慧社区</h4>
            <p class="description">A Smart Community Management System.</p>
          </div>

          <div class="col-lg-4 box box-bg">
            <i class="bi bi-card-checklist"></i>
            <h4 class="title">官河景庭</h4>
            <p class="description">杭州市滨江区西兴街道官河景庭小区</p>
          </div>

          <div class="col-lg-4 box">
            <i class="bi bi-binoculars"></i>
            <h4 class="title">建设美好社区</h4>
            <p class="description">能够智慧管理社区的系统</p>
          </div>

        </div>
      </div>
    </section><!-- End Featured Services Section -->


    <!-- ======= 健康打卡 Section ======= -->
	<section id="health">
	<br><br>
		<center><div class="container">
		<br><br><br>
			<h1>健康打卡</h1><br><br>
			<div id="healthyPunch">
			姓名:<input type="text" name="name" v-model="healthyPunchName"><br><br>
			住处:&nbsp;&nbsp;<input type="text" size="2" v-model="tent">&nbsp;&nbsp;幢
			&nbsp;&nbsp;<input type="text" size="2" v-model="unit">&nbsp;&nbsp;单元
			&nbsp;&nbsp;<input type="text" size="2" v-model="room">&nbsp;&nbsp;室<br><br>
			体温:<input type="text" name="temperature" v-model="healthyPunchTemperature"><br><br>
			健康码截图:<input type="file" name="healthyFile" @change="getHealthyCode($event)"><br><br>
			行程码截图:<input type="file" @change="getTourCode($event)"><br><br>
			<input type="submit" value="提交" @click="healthyPunchClick">&nbsp;&nbsp;&nbsp;&nbsp;
			<input type="reset" value="重置" @click="healthyPunchReset">
			
			<br><br><br><br><br>
      <input type="submit" value="填写姓名和住处查看自己的打卡记录" @click="healthySearchRecords"></input><br><br><br><br>
      <div v-show="display" v-cloak>
      <h3>打卡情况(最近7次)</h3>
      <table border="2" width="800">
        <tr><td>时间</td><td>体温</td><td>健康码</td><td>行程码</td></tr>
        <tr v-for="item in healthyArray">
          <th>{{item.time}}</th>
          <th>{{item.healthyPunchTemperature}}</th>
          <th><img :src="item.healthyCode" width="50" height="50"></th>
          <th><img :src="item.tourCode" width="50" height="50"></th>
        </tr>
      </table>
    </div>
    </div>
		</div>
		</center>
    </section>
	<!-- End 健康打卡 Section -->

  <script src="https://unpkg.com/vue@next"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script> 
	<script type="module">

    import global from './global.js';
    axios.defaults.baseURL = global.host+":1337";

    
    var data=decodeURI(window.location.search);//把从url传过来的参数解码
    var username = (data).substring(((data).indexOf("=") + 1), (data).indexOf("&"));
    // console.log(username);
    //传递一个参数时，用下面的获取
    var password = (data).substring(((data).lastIndexOf("=") + 1), (data).length);
    // console.log(password);

    var healthyCode,tourCode;
    var fileName1,fileName2,file1,file2,filename1,filename2;
		const healthyPunch=Vue.createApp({
			data(){
				return{
          display:false,
          time:"",
					healthyPunchName:username,
					tent:"",
          unit:"",
          room:"",
					healthyPunchTemperature:"",
          healthyCode:"",
          tourCode:"",
          healthyArray:[],
          file:undefined
					}
				},
				methods:{
          getDateTime() {
				    let date = new Date();
            let year = date.getFullYear(); // 年
            let month = date.getMonth() + 1; // 月
            let day = date.getDate(); // 日
            let hour = date.getHours(); // 时
            hour = hour < 10 ? "0" + hour : hour; // 如果只有一位，则前面补零
            let minute = date.getMinutes(); // 分
            minute = minute < 10 ? "0" + minute : minute; // 如果只有一位，则前面补零
            let second = date.getSeconds(); // 秒
            second = second < 10 ? "0" + second : second; // 如果只有一位，则前面补零
            return `${year}-${month}-${day} ${hour}:${minute}:${second}`;
          },
          getHealthyCode(e){
              var forms=new FormData();
              var configs={
                headers:{'Content-Type':'multipart/form-data'}
              };
              forms.append('healthyFile',e.target.files[0]);
              console.log(e.target.files[0]);
              //文件上传！！！
              axios
                .post(global.host+":1337/api/v1/fileUpload",forms,configs)
            .then((response) => {
              console.log(response);
              console.log(response.data.files[0].fd);
              file1=response.data.files[0].fd;

              var filename1 = file1.lastIndexOf("\\");
              healthyCode=file1.substring(filename1+1);
              fileName1="assets/img/"+healthyCode;
              // console.log(fileName);
            })
						.catch((error)=> {
							console.log(error);
						});
          },
          getTourCode(e){
            var forms=new FormData();
              var configs={
                headers:{'Content-Type':'multipart/form-data'}
              };
              forms.append('healthyFile',e.target.files[0]);
              console.log(e.target.files[0]);
              //文件上传！！！
              axios
                .post(global.host+":1337/api/v1/fileUpload",forms,configs)
            .then((response) => {
              console.log(response);
              console.log(response.data.files[0].fd);
              file2=response.data.files[0].fd;

              var filename2 = file2.lastIndexOf("\\");
              tourCode=file2.substring(filename2+1);
              fileName2="assets/img/"+tourCode;
            })
						.catch((error)=> {
							console.log(error);
						});
          },
					healthyPunchClick:function(){
            var currentTime=this.getDateTime();
            axios({
                method: 'post',
                url: global.host+":1337/api/v1/entrance/healthyPunchCreate",
                params:{
                  time:currentTime,
                  healthyPunchName:this.healthyPunchName,
                  tent:this.tent,
                  unit:this.unit,
                  room:this.room,
                  healthyPunchTemperature:this.healthyPunchTemperature,
                  healthyCode:fileName1,
                  tourCode:fileName2
                }
            }).then((response) => {
              // console.log(response);
              alert("打卡成功");
              location.reload();
            })
						.catch((error)=> {
							console.log(error);
						});
					},
					healthyPunchReset:function(){
						this.healthyPunchName="",
						this.tent="",
            this.unit="",
            this.room="",
						this.healthyPunchTemperature=""
					},
          healthySearchRecords:function(){
            // console.log(this.display);
            if(this.healthyPunchName!=""&&this.tent!=""&&this.unit!=""&&this.room!=""){
              this.display=!this.display;
              // console.log(this.healthyPunchName);
              axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/healthyPunchSearch",
                params:{
                  healthyPunchName:this.healthyPunchName,
                  tent:this.tent,
                  unit:this.unit,
                  room:this.room,
                }
            }).then((response) => {
              // console.log(response);
              for(var i=0;i<response.data.length;i++){
                this.healthyArray.push({time:response.data[i].time,healthyPunchTemperature:response.data[i].healthyPunchTemperature,
                  healthyCode:response.data[i].healthyCode,tourCode:response.data[i].tourCode});
              }
            })
						.catch((error)=> {
							console.log(error);
						});
            }else{
              alert("请先登录 或者 填写姓名及住处");
            }
          }
				},
        mounted(){
          this.healthyPunchName=username,
          axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/userFindByNamePassword",
                params:{
                  userName:username,
                  userPassword:password,
                }
            }).then((response) => {
              // console.log(response);
              this.tent=response.data[0].tent,
              this.unit=response.data[0].unit,
              this.room=response.data[0].room
            })
						.catch((error)=> {
							console.log(error);
						});
        }
			}).mount('#healthyPunch');
	</script>

<style>
  #overstep{
    overflow:hidden; /*超出的部分隐藏起来。*/ 
    white-space:nowrap;/*不显示的地方用省略号...代替*/
    text-overflow:ellipsis;/* 支持 IE */
  }
</style>

   <!--======= 社区新闻 Section =======-->
    <section id="services">
	<br><br><br><br>
      <div class="container" data-aos="fade-up" id="communityNews">

        <header class="section-header wow fadeInUp">
          <h3>社区新闻</h3>
          <p>所有的社区内新闻都在这里。</p>
        </header>

        <div class="row">
          <div class="col-lg-4 col-md-6 box" data-aos="fade-up" data-aos-delay="100" id="cNews1" v-for="item in newsArray">
            <div class="icon"><i class="bi bi-briefcase"></i></div>
            <a :href="'newsDetail.html?newsTitle='+item.newsTitle"><h4 class="title" v-text="item.newsTitle"></h4></a>
			      <p id="overstep" class="description" v-text="item.newsContent"></p>
          </div>
        </div>

<br><br>
      </div>
    </section><!-- End Services Section -->
	
	<script type="module">
    
    import global from './global.js';
    axios.defaults.baseURL = global.host+":1337";

		const news=Vue.createApp({
			data(){
				return{
					newsArray:[],
          newsTitle:"",
          newsContent:"",
					}
				},
        mounted(){
          axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/newsShow",
            }).then((response) => {
              // console.log(response);
              for(var i=0;i<response.data.length;i++){
                this.newsArray.push({newsTitle:response.data[i].newsTitle,newsContent:response.data[i].newsContent,newsPicture:response.data[i].newsPicture});
              }
            })
						.catch((error)=> {
							console.log(error);
						});
        }
			}).mount('#communityNews');
	</script>
	
	
    <!-- ======= 疫情数据 Section ======= -->
   <section id="skills">
	<br><br>
      <div class="container" data-aos="fade-up">

        <header class="section-header">
          <h3>全国疫情实时消息</h3>
          <p>关心国家大事。</p>
        </header>

        <div class="skills-content" id="realTime">
          <span>现有确诊</span>
          <div class="progress">
            <div class="progress-bar bg-success" role="progressbar" :aria-valuenow="diagnose" aria-valuemin="0" aria-valuemax="100">
              <span class="skill"><i class="val">{{diagnose}}</i></span>
            </div>
          </div>

          <span>较上日新增</span>
          <div class="progress">
            <div class="progress-bar bg-info" role="progressbar" :aria-valuenow="increase" aria-valuemin="0" aria-valuemax="100">
              <span class="skill"><i class="val">{{increase}}</i></span>
            </div>
          </div>

          <span>累计确诊</span>
          <div class="progress">
            <div class="progress-bar bg-warning" role="progressbar" :aria-valuenow="summary" aria-valuemin="0" aria-valuemax="100">
              <span class="skill"><i class="val">{{summary}}</i></span>
            </div>
          </div>

          <span>无症状感染者</span>
          <div class="progress">
            <div class="progress-bar bg-danger" role="progressbar" :aria-valuenow="asymptomatic" aria-valuemin="0" aria-valuemax="100">
              <span class="skill"><i class="val">{{asymptomatic}}</i></span>
            </div>
          </div>

        </div>

      </div>
    </section><!-- End Skills Section -->
	
	<script type="module">
    
    import global from './global.js';
        axios.defaults.baseURL = global.host + ":1337";
        console.log(axios.defaults.baseURL);

		const data=Vue.createApp({
			data(){
				return{
					diagnose:"",
          increase:"",
          summary:"",
          asymptomatic:""
					}
				},
        mounted(){
          axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/realTimeShow",
            }).then((response) => {
              // console.log(response);
              this.diagnose=response.data.diagnose;
              this.increase=response.data.increase;
              this.summary=response.data.summary;
              this.asymptomatic=response.data.asymptomatic;
            })
						.catch((error)=> {
							console.log(error);
						});
        }
			}).mount('#realTime');
	</script>
	
	
    <!-- ======= 社区疫情情况 Section ======= -->
    <section id="facts">
	<br><br>
      <div class="container" data-aos="fade-up">

        <header class="section-header">
          <h3>社区疫情情况</h3>
          <p>关心社区小家。</p>
        </header>

        <div class="row counters" id="comData">
          
          <div class="col-lg-3 col-6 text-center">
            <!-- <span data-purecounter-start="0" :data-purecounter-end="diagnose" data-purecounter-duration="1" class="purecounter"></span> -->
            <span>{{diagnose}}</span>
            <p>现有确诊</p>
          </div>

          <div class="col-lg-3 col-6 text-center">
            <span>{{increase}}</span>
            <p>较上日新增</p>
          </div>

          <div class="col-lg-3 col-6 text-center">
            <span>{{summary}}</span>
            <p>累计确诊</p>
          </div>

          <div class="col-lg-3 col-6 text-center">
            <span>{{asymptomatic}}</span>
            <p>无症状感染者</p>
          </div>

        </div>

        <div class="facts-img">
          <img src="assets/img/hero/5.webp" alt="" class="img-fluid">
        </div>

      </div>
    </section><!-- End Facts Section -->
	<br><br>
  
  
  <script type="module">
    
    import global from './global.js';
    axios.defaults.baseURL = global.host+":1337";

		const data2=Vue.createApp({
			data(){
				return{
					diagnose:"",
          increase:"",
          summary:"",
          asymptomatic:""
					}
				},
        mounted(){
          axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/communityRealTimeShow",
            }).then((response) => {
              // console.log(response);
              this.diagnose=response.data.diagnose;
              this.increase=response.data.increase;
              this.summary=response.data.summary;
              this.asymptomatic=response.data.asymptomatic;
            })
						.catch((error)=> {
							console.log(error);
						});
        }
			}).mount('#comData');
	</script>
	
	
	
	
	<!-- ======= 疫情信息 Section ======= -->
    <section id="yq">
      <div class="container" data-aos="fade-up">

        <header class="section-header">
          <h3>社区内疫情信息</h3>
          <p>官河景庭</p>
        </header>

        <div class="row about-cols" id="comInformation">

          <div class="col-md-4" data-aos="fade-up" data-aos-delay="100">
            <div class="about-col">
              <div class="img">
                <img src="assets/img/hero/7.webp" alt="" class="img-fluid">
                <div class="icon"><i class="bi bi-bar-chart"></i></div>
              </div>
              <h2 class="title">
                <a :href="'communityNewsDetail.html?communityNewsTitle='+this.communityNewsTitle1">
                <font color="#18d26e">{{communityNewsTitle1}}</font></a></h2>
              <p id="overstep">
                {{communityNewsContent1}}
              </p>
            </div>
          </div>

          <div class="col-md-4" data-aos="fade-up" data-aos-delay="200">
            <div class="about-col">
              <div class="img">
                <img src="assets/img/hero/8.webp" alt="" class="img-fluid">
                <div class="icon"><i class="bi bi-brightness-high"></i></div>
              </div>
              <h2 class="title">
                <a :href="'communityNewsDetail.html?communityNewsTitle='+this.communityNewsTitle2">
                <font color="#18d26e">{{communityNewsTitle2}}</font></a></h2>
              <p id="overstep">
                {{communityNewsContent2}}
              </p>
            </div>
          </div>

          <div class="col-md-4" data-aos="fade-up" data-aos-delay="300">
            <div class="about-col">
              <div class="img">
                <img src="assets/img/hero/10.webp" alt="" class="img-fluid">
                <div class="icon"><i class="bi bi-calendar4-week"></i></div>
              </div>
              <h2 class="title">
                <a :href="'communityNewsDetail.html?communityNewsTitle='+this.communityNewsTitle3">
                <font color="#18d26e">{{communityNewsTitle3}}</font></a></h2>
              <p id="overstep">
                {{communityNewsContent3}}
              </p>
            </div>
          </div>

        </div>

      </div>
    </section><!-- End About Us Section -->
	
	<script type="module">

    import global from './global.js';
    axios.defaults.baseURL = global.host+":1337";

		const comInformation=Vue.createApp({
			data(){
				return{
					communityNewsTitle1:"",
          communityNewsTitle2:"",
          communityNewsTitle3:"",
          communityNewsContent1:"",
          communityNewsContent2:"",
          communityNewsContent3:""
					}
				},
        mounted(){
          axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/communityNewsShow",
            }).then((response) => {
              // console.log(response);
              this.communityNewsTitle1=response.data[0].communityNewsTitle;
              this.communityNewsTitle2=response.data[1].communityNewsTitle;
              this.communityNewsTitle3=response.data[2].communityNewsTitle;
              this.communityNewsContent1=response.data[0].communityNewsContent;
              this.communityNewsContent2=response.data[1].communityNewsContent;
              this.communityNewsContent3=response.data[2].communityNewsContent;
            })
						.catch((error)=> {
							console.log(error);
						});
        }
			}).mount('#comInformation');
	</script>


    <!-- ======= 疫情知识 Section ======= -->
    <section id="portfolio" class="section-bg">
      <div class="container">

        <header class="section-header">
          <h3 class="section-title" id="konwledge">疫情知识</h3>
		  <center><h2>新型冠状病毒-Corona Virus Disease 2019，COVID-19</h2></center>
        </header><br>

      <div id="knowledge" class="row" data-aos="fade-up" data-aos-delay="200">
        <div class="col-lg-4 col-md-5 portfolio-item" v-for="item in knowledgeArray">
          <div class="portfolio-wrap">
            <figure>
              <img :src="item.knowledgePicture" class="img-fluid" alt="哈哈哈哈看不见吧">
              <!-- <i class="bi bi-plus"></i> -->
            </figure>
            <div class="portfolio-info">
              <a :href="'knowledgeDetail.html?knowledgeTitle='+item.knowledgeTitle">
                <h4>{{item.knowledgeTitle}}</h4>
              </a>
              <p id="overstep">{{item.knowledgeContent}}</p>
            </div>
          </div>
        </div>


      </div>
    </section><!-- End Portfolio Section -->
	
    <script type="module">

      import global from './global.js';
      axios.defaults.baseURL = global.host+":1337";
  
      const knowlwdge=Vue.createApp({
        data(){
          return{
            knowledgeTitle:"",
            knowledgeContent:"",
            knowledgePicture:"",
            knowledgeArray:[]
            }
          },
          mounted(){
            axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/knowledgeShow",
            }).then((response) => {
              // console.log(response);
              for(var i=0;i<response.data.length;i++){
                this.knowledgeArray.push({knowledgeTitle:response.data[i].knowledgeTitle,
                  knowledgeContent:response.data[i].knowledgeContent,
                  knowledgePicture:response.data[i].knowledgePicture});
              }
            })
						.catch((error)=> {
							console.log(error);
						});
          }
        }).mount('#knowledge');
    </script>
		
	
    <!-- ======= 需求上报 Section ======= -->
   <section id="demand">
	<br><br><br><br>
      <div class="container" data-aos="fade-up">

        <header class="section-header">
          <h3>需求上报</h3>
        </header>
		<div id="needs">
		<center>
				姓名：<input type="name" name="name" v-model="needName"/><br><br>
				住处:&nbsp;&nbsp;<input type="text" size="2" v-model="tent">&nbsp;&nbsp;幢
			&nbsp;&nbsp;<input type="text" size="2" v-model="unit">&nbsp;&nbsp;单元
			&nbsp;&nbsp;<input type="text" size="2" v-model="room">&nbsp;&nbsp;室<br><br>
				所需物资：<textarea col="15" v-model="needs"></textarea><br><br>
				<input type="submit" @click="needsClick"/>&nbsp;&nbsp;&nbsp;&nbsp;
				<input type="reset" @click="needsReset"/>
		</center>
		<br><br><br><br>
        </div>
      </div>
    </section><!-- End Testimonials Section -->
	
	<script type="module">

    import global from './global.js';
    axios.defaults.baseURL = global.host+":1337";

var data=decodeURI(window.location.search);//把从url传过来的参数解码
var username = (data).substring(((data).indexOf("=") + 1), (data).indexOf("&"));
// console.log(username);
//传递一个参数时，用下面的获取
 var password = (data).substring(((data).lastIndexOf("=") + 1), (data).length);
//  console.log(password);

		const needs=Vue.createApp({
			data(){
				return{
					needName:username,
					tent:"",
          unit:"",
          room:"",
					needs:""
					}
				},
				methods:{
					needsClick:function(){
						axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/needsCreate",
                params:{
                  needName:this.needName,
                  tent:this.tent,
                  unit:this.unit,
                  room:this.room,
                  needs:this.needs,
                  needCheck:"否",
                }
            }).then((response) => {
              // console.log(response);
              alert("提交成功");
              location.reload();
            })
						.catch((error)=> {
							console.log(error);
						});
					},
					needsReset:function(){
						this.needName="",
						this.tent="",
            this.unit="",
            this.room=""
					}
				},
        mounted(){
          axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/userFindByNamePassword",
                params:{
                  userName:username,
                  userPassword:password,
                }
            }).then((response) => {
              // console.log(response);
              this.tent=response.data[0].tent,
              this.unit=response.data[0].unit,
              this.room=response.data[0].room
            })
						.catch((error)=> {
							console.log(error);
						});
        }
			}).mount('#needs');
	</script>
	
	

    <!-- ======= 联系 Section ======= -->
    <section id="contact" class="section-bg">
      <div class="container" data-aos="fade-up">

        <div class="section-header">
          <h3>意见栏</h3>
          <p>Thank you for browering. You can send suggestion to us.</p>
        </div>

        <div class="row contact-info">

          <div class="col-md-4">
            <div class="contact-address">
              <i class="bi bi-geo-alt"></i>
              <h3>地址</h3>
              <address>浙江工业大学之江学院信息工程学院</address>
            </div>
          </div>

          <div class="col-md-4">
            <div class="contact-phone">
              <i class="bi bi-phone"></i>
              <h3>电话</h3>
              <p><a href="tel:+155895548855">+1 9858 59026 1</a></p>
            </div>
          </div>

          <div class="col-md-4">
            <div class="contact-email">
              <i class="bi bi-envelope"></i>
              <h3>邮箱</h3>
              <p><a href="mailto:info@example.com">863483292@qq.com</a></p>
            </div>
          </div>

        </div>

        <div class="form" id="contact">
          <!-- <form action="forms/contact.php" method="post" role="form" class="php-email-form"> -->
            <div class="row">
              <div class="form-group col-md-6">
                <input type="text" name="name" class="form-control" id="name" placeholder="姓名" required v-model="suggestName">
              </div>
              <div class="form-group col-md-6">
                <input type="email" class="form-control" name="email" id="email" placeholder="邮箱" required v-model="suggestEmail">
              </div>
            </div>
            <br>
            <div class="form-group">
              <textarea class="form-control" name="message" rows="10" placeholder="意见" v-model="suggestMessage"></textarea>
            </div>
            <br>
            <div class="text-center"><button type="submit" @click="suggestClick">提交意见</button></div>
          <!-- </form> -->
        </div>

      </div>
    </section><!-- End Contact Section -->
	
	
	<script type="module">

    import global from './global.js';
    axios.defaults.baseURL = global.host+":1337";

var data=decodeURI(window.location.search);//把从url传过来的参数解码
var username = (data).substring(((data).indexOf("=") + 1), (data).indexOf("&"));
// console.log(username);
//传递一个参数时，用下面的获取
 var password = (data).substring(((data).lastIndexOf("=") + 1), (data).length);
//  console.log(password);

		const contact=Vue.createApp({
			data(){
				return{
					suggestName:username,
					suggestEmail:"",
					suggestMessage:""
					}
				},
        methods:{
          suggestClick:function(){
            // console.log(this.suggestMessage);
            axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/suggestCreate",
                params:{
                  suggestName:this.suggestName,
                  suggestEmail:this.suggestEmail,
                  suggestMessage:this.suggestMessage
                }
            }).then((response) => {
              // console.log(response);
              alert("提交成功");
              location.reload();
            })
						.catch((error)=> {
							console.log(error);
						});
          }
        }
			}).mount('#contact');
	</script>


    <!-- ======= 社区人员 Section ======= -->
    <section id="team">
	  <br><br>
      <div class="container" data-aos="fade-up">
        <div class="section-header">
          <h3>社区负责人</h3>
          <p>业主可以记下负责人电话，紧急情况时联系。</p>
        </div>
        <div class="row" id="chief">

          <div class="col-lg-3 col-md-6" v-for="item in chiefArray">
            <div class="member" data-aos="fade-up" data-aos-delay="100" >
              <img :src="item.chiefPicture" class="img-fluid" alt="233333333">
              <div class="member-info">
                <div class="member-info-content">
                  <h4>{{item.chiefName}}</h4>
                  <span>{{item.chiefPosts}}</span>
                  <span>电话:{{item.chiefTel}}</span>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </section><!-- End Team Section -->
	

    <script type="module">

      import global from './global.js';
      axios.defaults.baseURL = global.host+":1337";
  
      const chief=Vue.createApp({
        data(){
          return{
            data:"100",
            chiefName:"",
            chiefPosts:"",
            chiefTel:"",
            chiefPicture:"",
            chiefArray:[]
            }
          },
          mounted(){
            axios({
                method: 'get',
                url: global.host+":1337/api/v1/entrance/chiefShow",
            }).then((response) => {
              // console.log(response);
              for(var i=0;i<response.data.length;i++){
                this.chiefArray.push({chiefName:response.data[i].chiefName,
                  chiefPosts:response.data[i].chiefPosts,
                  chiefTel:response.data[i].chiefTel,
                  chiefPicture:response.data[i].chiefPicture});
              }
            })
						.catch((error)=> {
							console.log(error);
						});
          }
        }).mount('#chief');
    </script>




  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">
    <div class="footer-top">
      <div class="container">
        <div class="row">

          <div class="col-lg-3 col-md-6 footer-info">
            <h3>智慧社区系统</h3>
            <p>A smart community system.</p>
          </div>

          <div class="col-lg-3 col-md-6 footer-links">
            <h4>链接</h4>
            <ul>
              <li><i class="bi bi-chevron-right"></i> <a href="#hero">主页</a></li>
              <li><i class="bi bi-chevron-right"></i> <a href="#health">健康打卡</a></li>
              <li><i class="bi bi-chevron-right"></i> <a href="#services">社区新闻</a></li>
              <li><i class="bi bi-chevron-right"></i> <a href="#skills">疫情信息</a></li>
              <li><i class="bi bi-chevron-right"></i> <a href="#demand">需求上报</a></li>
			  <li><i class="bi bi-chevron-right"></i> <a href="#contact">意见栏</a></li>
            </ul>
          </div>

		      <div class="col-lg-3 col-md-6 footer-links" id="chief1">
            <h4>社区联系人</h4>
            <ul v-for="item in chiefArray">
              <li><i class="bi bi-chevron-right"></i> <a href="#team">{{item.chiefPosts}}-{{item.chiefName}}</a></li>
            </ul>
          </div>


          <script type="module">

            import global from './global.js';
            axios.defaults.baseURL = global.host+":1337";
        
            const chief1=Vue.createApp({
              data(){
                return{
                  chiefName:"",
                  chiefPosts:"",
                  chiefArray:[]
                  }
                },
                mounted(){
                  axios({
                      method: 'get',
                      url: global.host+":1337/api/v1/entrance/chiefShow",
                  }).then((response) => {
                    // console.log(response);
                    for(var i=0;i<response.data.length;i++){
                      this.chiefArray.push({chiefName:response.data[i].chiefName,
                        chiefPosts:response.data[i].chiefPosts,
                        });
                    }
                  })
                  .catch((error)=> {
                    console.log(error);
                  });
                }
              }).mount('#chief1');
              </script>


          <div class="col-lg-3 col-md-6 footer-contact">
            <h4>和我们联系</h4>
            <p>
              浙江工业大学 <br>
              之江学院<br>
               浙江绍兴 <br>
              <strong>电话:</strong> +1 98 5859 0261<br>
              <strong>邮箱:</strong> 863483292@qq.com<br>
            </p>

          </div>

          
        </div>
      </div>
    </div>

    <div class="container">
      <div class="copyright">
        &copy; Copyright
      </div>
      <div class="credits">
        <!--
        All the links in the footer should remain intact.
        You can delete the links only if you purchased the pro version.
        Licensing information: https://bootstrapmade.com/license/
        Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/buy/?theme=BizPage
      -->
        Designed by <a href="#">Yilia</a>
      </div>
    </div>
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>
  <!-- Uncomment below i you want to use a preloader -->
  <!-- <div id="preloader"></div> -->

  <!-- Vendor JS Files -->
  <script src="assets/vendor/purecounter/purecounter.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/waypoints/noframework.waypoints.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

</body>

</html>